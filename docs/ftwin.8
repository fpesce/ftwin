.\"
.\" Copyright (c) 2007 Francois Pesce <francois.pesce at gmail.com>
.\"
.\" Copying and distribution of this file, with or without modification,
.\" are permitted in any medium without royalty provided the copyright
.\" notice and this notice are preserved.
.\"
.TH FTWIN "8" "October 2007" "ftwin 0.6.0" "User Commands"
.SH NAME
ftwin \- find duplicate files
.SH SYNOPSIS
.B ftwin
[\fIOPTION\fR]... [\fIFILES OR DIRECTORIES\fR]...
.SH DESCRIPTION
.PP
ftwin reports two files if they are duplicates from each other.
.PP
By default ftwin will recurse in subdirectories and ignore hidden files.
.PP
Mandatory arguments to long options are mandatory for short options too.
.TP
\fB\-a\fR, \fB\-\-hidden\fR
do not ignore hidden files.
.TP
\fB\-c\fR, \fB\-\-case-unsensitive\fR
this option applies to regex match, \fB\-e\fR or \fB\-w\fR.
.TP
\fB\-d\fR, \fB\-\-display-size\fR
display size before duplicates.
.TP
\fB\-e\fR, \fB\-\-regex-ignore-file\fR \fIREGEX\fR
filenames that match this are ignored.
.TP
\fB\-f\fR, \fB\-\-follow-symlink\fR
follow symbolic links.
.TP
\fB\-h\fR, \fB\-\-help\fR
display usage informations.
.TP
\fB\-I\fR, \fB\-\-image-cmp\fR
will run ftwin in image cmp mode (using libpuzzle).
.TP
\fB\-T\fR, \fB\-\-image-threshold\fR
will change the image similarity threshold (default is [1], accepted [2/3/4/5]).
[1] will display only very similar pictures, [5] will be the most permissive.
.TP
\fB\-i\fR, \fB\-\-ignore-list\fR \fIfile1,file2,...,filen\fR
comma-separated list of file names to ignore.
.TP
.B \-J, \-\-json
Output the results in a machine-readable JSON format. The output is an array of duplicate sets. Each set includes the file size in bytes (\fBsize_bytes\fR), the XXH128 hash (\fBhash_xxh128\fR), and a list of duplicates containing the absolute path, modification time in UTC (ISO 8601 format, \fBmtime_utc\fR), and prioritization status. Verbose output (\-v) is suppressed. (Requires Jansson library).
.TP
\fB\-m\fR, \fB\-\-minimal-length\fR \fIsize in bytes\fR
minimum size of file to process.
.TP
\fB\-o\fR, \fB\-\-optimize-memory\fR
reduce memory usage, but increase process time. (This option is not implemented yet)
.TP
\fB\-p\fR, \fB\-\-priority-path\fR \fIpath\fR
file in this path are displayed first when duplicates are reported.
.TP
\fB\-r\fR, \fB\-\-recurse-subdir\fR
recurse subdirectories (default: on).
.TP
\fB\-R\fR, \fB\-\-no-recurse\fR
do not recurse in subdirectories.
.TP
\fB\-s\fR, \fB\-\-separator\fR \fIcharacter\fR
separator character between twins, default: \\n.
.TP
\fB\-t\fR, \fB\-\-tar-cmp\fR
will process files archived in .tar(.gz) default: off.
.TP
\fB\-v\fR, \fB\-\-verbose\fR
display a progress indicator.
.TP
\fB\-V\fR, \fB\-\-version\fR
display version.
.TP
\fB\-w\fR, \fB\-\-whitelist-regex-file\fR \fIREGEX\fR
filenames that doesn't match this are ignored.
.TP
\fB\-x\fR, \fB\-\-excessive-size\fR \fIsize in bytes\fR
files that exceed this limit won't be read using mmap.
.PP
Try
.EM ftwin -h
for more info.
.SH EXAMPLES
.ED
.PP
The following command line will report duplicate pictures, using libpuzzle 
(-I) whose sizes are greater than 8192 bytes ( -m 8192 ) found recursively
(-r) starting in your home directory.

.BD -literal -offset indent
$ ftwin \-m 8192 \-v \-r \-I ${HOME}

.ED
.PP
This line will report duplicate files (no more in "image mode", but according
to their content) whose extension is .txt and that are not in a .svn directory:

.BD -literal -offset indent
$ ftwin \-e ".*/\\.svn/.*" \-w ".*\\.txt$" \-v \-r ${HOME}
.SH AUTHOR
Written by Francois Pesce.
.SH "REPORTING BUGS"
Report bugs to francois (dot) pesce (at) gmail (dot) com
.SH COPYRIGHT
Copyright \(co 2007 Francois Pesce
.br
.ED
.SH SEE ALSO
.XR libpuzzle 3
